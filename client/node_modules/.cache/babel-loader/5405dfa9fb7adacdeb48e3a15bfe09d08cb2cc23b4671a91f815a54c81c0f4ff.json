{"ast":null,"code":"import{createContext,useContext,useEffect,useState}from\"react\";import{auth,githubAuthProvider}from\"./firebase\";import{onAuthStateChanged,signInWithPopup}from\"firebase/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";const AuthContext=/*#__PURE__*/createContext();export const useAuth=()=>useContext(AuthContext);export const AuthProvider=_ref=>{let{children}=_ref;const[currentUser,setCurrentUser]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const unsubscribe=onAuthStateChanged(auth,user=>{setCurrentUser(user);setLoading(false);});return unsubscribe;},[]);const signInWithGitHub=()=>{return signInWithPopup(auth,githubAuthProvider);};const value={currentUser,signInWithGitHub};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:value,children:!loading&&children});};","map":{"version":3,"names":["createContext","useContext","useEffect","useState","auth","githubAuthProvider","onAuthStateChanged","signInWithPopup","jsx","_jsx","AuthContext","useAuth","AuthProvider","_ref","children","currentUser","setCurrentUser","loading","setLoading","unsubscribe","user","signInWithGitHub","value","Provider"],"sources":["/Users/hamoudebnou/Documents/sidi-bad-benk/badBank-Front-and-back-End/client/src/AuthContext.js"],"sourcesContent":["import { createContext, useContext, useEffect, useState } from \"react\";\nimport { auth, githubAuthProvider } from \"./firebase\";\nimport { onAuthStateChanged, signInWithPopup } from \"firebase/auth\";\n\nconst AuthContext = createContext();\n\nexport const useAuth = () => useContext(AuthContext);\n\nexport const AuthProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\n      setCurrentUser(user);\n      setLoading(false);\n    });\n\n    return unsubscribe;\n  }, []);\n\n  const signInWithGitHub = () => {\n    return signInWithPopup(auth, githubAuthProvider);\n  };\n\n  const value = {\n    currentUser,\n    signInWithGitHub,\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {!loading && children}\n    </AuthContext.Provider>\n  );\n};\n"],"mappings":"AAAA,OAASA,aAAa,CAAEC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACtE,OAASC,IAAI,CAAEC,kBAAkB,KAAQ,YAAY,CACrD,OAASC,kBAAkB,CAAEC,eAAe,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEpE,KAAM,CAAAC,WAAW,cAAGV,aAAa,CAAC,CAAC,CAEnC,MAAO,MAAM,CAAAW,OAAO,CAAGA,CAAA,GAAMV,UAAU,CAACS,WAAW,CAAC,CAEpD,MAAO,MAAM,CAAAE,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACE,WAAW,CAAEC,cAAc,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAE5CD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiB,WAAW,CAAGb,kBAAkB,CAACF,IAAI,CAAGgB,IAAI,EAAK,CACrDJ,cAAc,CAACI,IAAI,CAAC,CACpBF,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CAEF,MAAO,CAAAC,WAAW,CACpB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAE,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,MAAO,CAAAd,eAAe,CAACH,IAAI,CAAEC,kBAAkB,CAAC,CAClD,CAAC,CAED,KAAM,CAAAiB,KAAK,CAAG,CACZP,WAAW,CACXM,gBACF,CAAC,CAED,mBACEZ,IAAA,CAACC,WAAW,CAACa,QAAQ,EAACD,KAAK,CAAEA,KAAM,CAAAR,QAAA,CAChC,CAACG,OAAO,EAAIH,QAAQ,CACD,CAAC,CAE3B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}