{"ast":null,"code":"import{getAuth}from\"firebase/auth\";export const getAllAccounts=async()=>{const{currentUser}=getAuth();try{const token=await currentUser.getIdToken();const response=await fetch(\"/api/getAllAccounts\",{headers:{Authorization:\"Bearer \".concat(token)}});const data=await response.json();return data;}catch(error){throw new Error(\"Error getting the user token:\",error);}};export const updateAccount=async(id,balance)=>{const{currentUser}=getAuth();try{const token=await currentUser.getIdToken();const response=await fetch(\"/api/updateAccount\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)},body:JSON.stringify({id,balance})});const data=response.json();return data;}catch(error){throw new Error(\"Error getting the user token:\",error);}};export const createAccount=async name=>{const{currentUser}=getAuth();try{const token=await currentUser.getIdToken();const response=await fetch(\"/api/createAccount\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)},body:JSON.stringify({name})});const data=await response.json();return data;}catch(error){throw new Error(\"Error getting the user token:\",error);}};export const deleteAccount=async id=>{const{currentUser}=getAuth();try{const token=await currentUser.getIdToken();const response=await fetch(\"/api/deleteAccount/\"+id,{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)}});return true;}catch(error){throw new Error(\"Error getting the user token:\",error);}};","map":{"version":3,"names":["getAuth","getAllAccounts","currentUser","token","getIdToken","response","fetch","headers","Authorization","concat","data","json","error","Error","updateAccount","id","balance","method","body","JSON","stringify","createAccount","name","deleteAccount"],"sources":["/Users/hamoudebnou/Documents/sidi-bad-benk/badBank-Front-and-back-End/client/src/api.js"],"sourcesContent":["import { getAuth } from \"firebase/auth\";\n\nexport const getAllAccounts = async () => {\n  const { currentUser } = getAuth();\n  try {\n    const token = await currentUser.getIdToken();\n    const response = await fetch(\"/api/getAllAccounts\", {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    throw new Error(\"Error getting the user token:\", error);\n  }\n};\n\nexport const updateAccount = async (id, balance) => {\n  const { currentUser } = getAuth();\n  try {\n    const token = await currentUser.getIdToken();\n    const response = await fetch(\"/api/updateAccount\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify({ id, balance }),\n    });\n    const data = response.json();\n    return data;\n  } catch (error) {\n    throw new Error(\"Error getting the user token:\", error);\n  }\n};\n\nexport const createAccount = async (name) => {\n  const { currentUser } = getAuth();\n  try {\n    const token = await currentUser.getIdToken();\n    const response = await fetch(\"/api/createAccount\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify({ name }),\n    });\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    throw new Error(\"Error getting the user token:\", error);\n  }\n};\n\nexport const deleteAccount = async (id) => {\n  const { currentUser } = getAuth();\n  try {\n    const token = await currentUser.getIdToken();\n    const response = await fetch(\"/api/deleteAccount/\" + id, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return true;\n  } catch (error) {\n    throw new Error(\"Error getting the user token:\", error);\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}