{"ast":null,"code":"import{useEffect,useState}from\"react\";import{Container,Card,Form,InputGroup,Row,Col,FormControl,Button,CardText,FormLabel}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function formatToCurrency(amount){return new Intl.NumberFormat(\"en-US\",{style:\"currency\",currency:\"USD\"}).format(amount);}export default function Account(_ref){var _allAccounts$find2;let{onSubmit,inputLabel,title,error,allAccounts=[],buttonText}=_ref;const[value,setValue]=useState(\"\");const[selectedValue,setSelectedValue]=useState();const handleDeposit=e=>{var _allAccounts$find;e.preventDefault();const balance=((_allAccounts$find=allAccounts.find(account=>account.id==selectedValue))===null||_allAccounts$find===void 0?void 0:_allAccounts$find.balance)||\"0.0\";onSubmit(value,balance,selectedValue);setValue(\"\");};const selectedAccountBalance=(_allAccounts$find2=allAccounts.find(account=>account.id==selectedValue))===null||_allAccounts$find2===void 0?void 0:_allAccounts$find2.balance;useEffect(()=>{var _allAccounts$;if(allAccounts.length&&!selectedValue)setSelectedValue((_allAccounts$=allAccounts[0])===null||_allAccounts$===void 0?void 0:_allAccounts$.id);},[allAccounts]);return/*#__PURE__*/_jsx(Container,{className:\"mt-5\",children:/*#__PURE__*/_jsx(Row,{className:\"justify-content-md-center\",children:/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:title}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"exampleForm.SelectCustom\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Select Option\"}),/*#__PURE__*/_jsx(Form.Select,{value:selectedValue,onChange:e=>setSelectedValue(e.target.value),children:allAccounts===null||allAccounts===void 0?void 0:allAccounts.map(account=>/*#__PURE__*/_jsx(\"option\",{value:account.id,children:account.accountname}))})]}),!!allAccounts.length?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Row,{className:\"g-10 mt-3 mb-5\",children:[/*#__PURE__*/_jsx(Col,{className:\"col-sm-6\",children:/*#__PURE__*/_jsx(CardText,{className:\"h6 \",children:\"Balance:\"})}),/*#__PURE__*/_jsx(Col,{className:\"col-sm-4\",children:/*#__PURE__*/_jsx(CardText,{className:\"h6\",children:formatToCurrency(parseFloat(selectedAccountBalance||\"0.0\"))})})]}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleDeposit,error:true,children:[/*#__PURE__*/_jsxs(FormLabel,{children:[\" \",inputLabel]}),/*#__PURE__*/_jsxs(InputGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(InputGroup.Text,{children:\"$\"}),/*#__PURE__*/_jsx(FormControl,{type:\"number\",placeholder:\"Enter amount\",value:value,onChange:e=>setValue(e.target.value),isInvalid:!!error}),error&&/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:error})]}),/*#__PURE__*/_jsx(Button,{disabled:!value,type:\"submit\",children:buttonText})]})]}):\"Please Create an account first\"]})})})})});}","map":{"version":3,"names":["useEffect","useState","Container","Card","Form","InputGroup","Row","Col","FormControl","Button","CardText","FormLabel","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","formatToCurrency","amount","Intl","NumberFormat","style","currency","format","Account","_ref","_allAccounts$find2","onSubmit","inputLabel","title","error","allAccounts","buttonText","value","setValue","selectedValue","setSelectedValue","handleDeposit","e","_allAccounts$find","preventDefault","balance","find","account","id","selectedAccountBalance","_allAccounts$","length","className","children","md","Body","Title","Group","controlId","Label","Select","onChange","target","map","accountname","parseFloat","Text","type","placeholder","isInvalid","Control","Feedback","disabled"],"sources":["/Users/hamoudebnou/Documents/sidi-bad-benk/badBank-Front-and-back-End/client/src/components/Account/index.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport {\n  Container,\n  Card,\n  Form,\n  InputGroup,\n  Row,\n  Col,\n  FormControl,\n  Button,\n  CardText,\n  FormLabel,\n} from \"react-bootstrap\";\n\nfunction formatToCurrency(amount) {\n  return new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n  }).format(amount);\n}\n\nexport default function Account({\n  onSubmit,\n  inputLabel,\n  title,\n  error,\n  allAccounts = [],\n  buttonText,\n}) {\n  const [value, setValue] = useState(\"\");\n  const [selectedValue, setSelectedValue] = useState();\n  const handleDeposit = (e) => {\n    e.preventDefault();\n    const balance =\n      allAccounts.find((account) => account.id == selectedValue)?.balance ||\n      \"0.0\";\n    onSubmit(value, balance, selectedValue);\n    setValue(\"\");\n  };\n\n  const selectedAccountBalance = allAccounts.find(\n    (account) => account.id == selectedValue\n  )?.balance;\n\n  useEffect(() => {\n    if (allAccounts.length && !selectedValue)\n      setSelectedValue(allAccounts[0]?.id);\n  }, [allAccounts]);\n\n  return (\n    <Container className=\"mt-5\">\n      <Row className=\"justify-content-md-center\">\n        <Col md={6}>\n          <Card>\n            <Card.Body>\n              <Card.Title>{title}</Card.Title>\n              <Form.Group controlId=\"exampleForm.SelectCustom\">\n                <Form.Label>Select Option</Form.Label>\n                <Form.Select\n                  value={selectedValue}\n                  onChange={(e) => setSelectedValue(e.target.value)}\n                >\n                  {allAccounts?.map((account) => (\n                    <option value={account.id}>{account.accountname}</option>\n                  ))}\n                </Form.Select>\n              </Form.Group>\n              {!!allAccounts.length ? (\n                <>\n                  <Row className=\"g-10 mt-3 mb-5\">\n                    <Col className=\"col-sm-6\">\n                      <CardText className=\"h6 \">Balance:</CardText>\n                    </Col>\n                    <Col className=\"col-sm-4\">\n                      <CardText className=\"h6\">\n                        {formatToCurrency(\n                          parseFloat(selectedAccountBalance || \"0.0\")\n                        )}\n                      </CardText>\n                    </Col>\n                  </Row>\n                  <Form onSubmit={handleDeposit} error>\n                    <FormLabel> {inputLabel}</FormLabel>\n                    <InputGroup className=\"mb-3\">\n                      <InputGroup.Text>$</InputGroup.Text>\n                      <FormControl\n                        type=\"number\"\n                        placeholder=\"Enter amount\"\n                        value={value}\n                        onChange={(e) => setValue(e.target.value)}\n                        isInvalid={!!error}\n                      />\n                      {error && (\n                        <Form.Control.Feedback type=\"invalid\">\n                          {error}\n                        </Form.Control.Feedback>\n                      )}\n                    </InputGroup>\n                    <Button disabled={!value} type=\"submit\">\n                      {buttonText}\n                    </Button>\n                  </Form>\n                </>\n              ) : (\n                \"Please Create an account first\"\n              )}\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}